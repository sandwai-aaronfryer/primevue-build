"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("primevue/utils"),n=e(require("primevue/ripple")),i=require("vue"),o=e(require("primevue/portal")),s={name:"ContextMenuSub",emits:["leaf-click"],props:{model:{type:Array,default:null},root:{type:Boolean,default:!1},parentActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0}},watch:{parentActive(e){e||(this.activeItem=null)}},data:()=>({activeItem:null}),methods:{onItemMouseEnter(e,t){this.disabled(t)?e.preventDefault():this.activeItem=t},onItemClick(e,t,n){this.disabled(t)?e.preventDefault():(t.command&&t.command({originalEvent:e,item:t}),t.items&&(this.activeItem&&t===this.activeItem?this.activeItem=null:this.activeItem=t),t.items||this.onLeafClick(),t.to&&n&&n(e))},onLeafClick(){this.activeItem=null,this.$emit("leaf-click")},onEnter(){this.position()},position(){const e=this.$refs.container.parentElement,n=t.DomHandler.getOffset(this.$refs.container.parentElement),i=t.DomHandler.getViewport(),o=this.$refs.container.offsetParent?this.$refs.container.offsetWidth:t.DomHandler.getHiddenElementOuterWidth(this.$refs.container),s=t.DomHandler.getOuterWidth(e.children[0]);this.$refs.container.style.top="0px",parseInt(n.left,10)+s+o>i.width-t.DomHandler.calculateScrollbarWidth()?this.$refs.container.style.left=-1*o+"px":this.$refs.container.style.left=s+"px"},getItemClass(e){return["p-menuitem",e.class,{"p-menuitem-active":this.activeItem===e}]},linkClass(e,t){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},visible:e=>"function"==typeof e.visible?e.visible():!1!==e.visible,disabled:e=>"function"==typeof e.disabled?e.disabled():e.disabled,label:e=>"function"==typeof e.label?e.label():e.label},computed:{containerClass(){return{"p-submenu-list":!this.root}}},directives:{ripple:n}};const l=["onMouseenter"],a=["href","onClick"],r={class:"p-menuitem-text"},c=["href","target","onClick","aria-haspopup","aria-expanded","tabindex"],m={class:"p-menuitem-text"},u={key:0,class:"p-submenu-icon pi pi-angle-right"};s.render=function(e,t,n,o,s,d){const p=i.resolveComponent("router-link"),h=i.resolveComponent("ContextMenuSub",!0),f=i.resolveDirective("ripple");return i.openBlock(),i.createBlock(i.Transition,{name:"p-contextmenusub",onEnter:d.onEnter},{default:i.withCtx((()=>[n.root||n.parentActive?(i.openBlock(),i.createElementBlock("ul",{key:0,ref:"container",class:i.normalizeClass(d.containerClass),role:"menu"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.model,((e,t)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:d.label(e)+t.toString()},[d.visible(e)&&!e.separator?(i.openBlock(),i.createElementBlock("li",{key:0,role:"none",class:i.normalizeClass(d.getItemClass(e)),style:i.normalizeStyle(e.style),onMouseenter:t=>d.onItemMouseEnter(t,e)},[n.template?(i.openBlock(),i.createBlock(i.resolveDynamicComponent(n.template),{key:1,item:e},null,8,["item"])):(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[e.to&&!d.disabled(e)?(i.openBlock(),i.createBlock(p,{key:0,to:e.to,custom:""},{default:i.withCtx((({navigate:t,href:n,isActive:o,isExactActive:s})=>[i.withDirectives((i.openBlock(),i.createElementBlock("a",{href:n,onClick:n=>d.onItemClick(n,e,t),class:i.normalizeClass(d.linkClass(e,{isActive:o,isExactActive:s})),role:"menuitem"},[i.createElementVNode("span",{class:i.normalizeClass(["p-menuitem-icon",e.icon])},null,2),i.createElementVNode("span",r,i.toDisplayString(d.label(e)),1)],10,a)),[[f]])])),_:2},1032,["to"])):i.withDirectives((i.openBlock(),i.createElementBlock("a",{key:1,href:e.url,class:i.normalizeClass(d.linkClass(e)),target:e.target,onClick:t=>d.onItemClick(t,e),"aria-haspopup":null!=e.items,"aria-expanded":e===s.activeItem,role:"menuitem",tabindex:d.disabled(e)?null:"0"},[i.createElementVNode("span",{class:i.normalizeClass(["p-menuitem-icon",e.icon])},null,2),i.createElementVNode("span",m,i.toDisplayString(d.label(e)),1),e.items?(i.openBlock(),i.createElementBlock("span",u)):i.createCommentVNode("",!0)],10,c)),[[f]])],64)),d.visible(e)&&e.items?(i.openBlock(),i.createBlock(h,{model:e.items,key:d.label(e)+"_sub_",template:n.template,onLeafClick:d.onLeafClick,parentActive:e===s.activeItem,exact:n.exact},null,8,["model","template","onLeafClick","parentActive","exact"])):i.createCommentVNode("",!0)],46,l)):i.createCommentVNode("",!0),d.visible(e)&&e.separator?(i.openBlock(),i.createElementBlock("li",{class:i.normalizeClass(["p-menu-separator",e.class]),style:i.normalizeStyle(e.style),key:"separator"+t.toString(),role:"separator"},null,6)):i.createCommentVNode("",!0)],64)))),128))],2)):i.createCommentVNode("",!0)])),_:1},8,["onEnter"])};var d={name:"ContextMenu",inheritAttrs:!1,props:{model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},global:{type:Boolean,default:!1},exact:{type:Boolean,default:!0}},target:null,outsideClickListener:null,resizeListener:null,documentContextMenuListener:null,pageX:null,pageY:null,container:null,data:()=>({visible:!1}),beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.unbindDocumentContextMenuListener(),this.container&&this.autoZIndex&&t.ZIndexUtils.clear(this.container),this.container=null},mounted(){this.global&&this.bindDocumentContextMenuListener()},methods:{itemClick(e){const t=e.item;t.command&&(t.command(e),e.originalEvent.preventDefault()),this.hide()},toggle(e){this.visible?this.hide():this.show(e)},onLeafClick(){this.hide()},show(e){this.pageX=e.pageX,this.pageY=e.pageY,this.visible?this.position():this.visible=!0,e.stopPropagation(),e.preventDefault()},hide(){this.visible=!1},onEnter(e){this.position(),this.bindOutsideClickListener(),this.bindResizeListener(),this.autoZIndex&&t.ZIndexUtils.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu)},onLeave(){this.unbindOutsideClickListener(),this.unbindResizeListener()},onAfterLeave(e){this.autoZIndex&&t.ZIndexUtils.clear(e)},position(){let e=this.pageX+1,n=this.pageY+1,i=this.container.offsetParent?this.container.offsetWidth:t.DomHandler.getHiddenElementOuterWidth(this.container),o=this.container.offsetParent?this.container.offsetHeight:t.DomHandler.getHiddenElementOuterHeight(this.container),s=t.DomHandler.getViewport();e+i-document.body.scrollLeft>s.width&&(e-=i),n+o-document.body.scrollTop>s.height&&(n-=o),e<document.body.scrollLeft&&(e=document.body.scrollLeft),n<document.body.scrollTop&&(n=document.body.scrollTop),this.container.style.left=e+"px",this.container.style.top=n+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.visible&&this.container&&!this.container.contains(e.target)&&!e.ctrlKey&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!t.DomHandler.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentContextMenuListener(){this.documentContextMenuListener||(this.documentContextMenuListener=e=>{this.show(e)},document.addEventListener("contextmenu",this.documentContextMenuListener))},unbindDocumentContextMenuListener(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)},containerRef(e){this.container=e}},computed:{containerClass(){return["p-contextmenu p-component",{"p-input-filled":"filled"===this.$primevue.config.inputStyle,"p-ripple-disabled":!1===this.$primevue.config.ripple}]}},components:{ContextMenuSub:s,Portal:o}};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("\n.p-contextmenu {\n    position: absolute;\n}\n.p-contextmenu ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n}\n.p-contextmenu .p-submenu-list {\n    position: absolute;\n    min-width: 100%;\n    z-index: 1;\n}\n.p-contextmenu .p-menuitem-link {\n    cursor: pointer;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    text-decoration: none;\n    overflow: hidden;\n    position: relative;\n}\n.p-contextmenu .p-menuitem-text {\n    line-height: 1;\n}\n.p-contextmenu .p-menuitem {\n    position: relative;\n}\n.p-contextmenu .p-menuitem-link .p-submenu-icon {\n    margin-left: auto;\n}\n.p-contextmenu-enter-from {\n    opacity: 0;\n}\n.p-contextmenu-enter-active {\n    -webkit-transition: opacity 250ms;\n    transition: opacity 250ms;\n}\n"),d.render=function(e,t,n,o,s,l){const a=i.resolveComponent("ContextMenuSub"),r=i.resolveComponent("Portal");return i.openBlock(),i.createBlock(r,{appendTo:n.appendTo},{default:i.withCtx((()=>[i.createVNode(i.Transition,{name:"p-contextmenu",onEnter:l.onEnter,onLeave:l.onLeave,onAfterLeave:l.onAfterLeave},{default:i.withCtx((()=>[s.visible?(i.openBlock(),i.createElementBlock("div",i.mergeProps({key:0,ref:l.containerRef,class:l.containerClass},e.$attrs),[i.createVNode(a,{model:n.model,root:!0,onLeafClick:l.onLeafClick,template:e.$slots.item,exact:n.exact},null,8,["model","onLeafClick","template","exact"])],16)):i.createCommentVNode("",!0)])),_:1},8,["onEnter","onLeave","onAfterLeave"])])),_:1},8,["appendTo"])},module.exports=d;
