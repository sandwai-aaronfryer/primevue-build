"use strict";var e,t=require("primevue/utils"),n=(e=require("primevue/ripple"))&&"object"==typeof e&&"default"in e?e.default:e,i=require("vue"),l={name:"MenubarSub",emits:["keydown-item","leaf-click"],props:{model:{type:Array,default:null},root:{type:Boolean,default:!1},popup:{type:Boolean,default:!1},parentActive:{type:Boolean,default:!1},mobileActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0}},documentClickListener:null,watch:{parentActive(e){e||(this.activeItem=null)}},data:()=>({activeItem:null}),updated(){this.root&&this.activeItem&&this.bindDocumentClickListener()},beforeUnmount(){this.unbindDocumentClickListener()},methods:{onItemMouseEnter(e,t){this.disabled(t)||this.mobileActive?e.preventDefault():this.root?(this.activeItem||this.popup)&&(this.activeItem=t):this.activeItem=t},onItemClick(e,t,n){this.disabled(t)?e.preventDefault():(t.command&&t.command({originalEvent:e,item:t}),t.items&&(this.activeItem&&t===this.activeItem?this.activeItem=null:this.activeItem=t),t.items||this.onLeafClick(),t.to&&n&&n(e))},onLeafClick(){this.activeItem=null,this.$emit("leaf-click")},onItemKeyDown(e,t){let n=e.currentTarget.parentElement;switch(e.which){case 40:this.root?t.items&&this.expandSubmenu(t,n):this.navigateToNextItem(n),e.preventDefault();break;case 38:this.root||this.navigateToPrevItem(n),e.preventDefault();break;case 39:if(this.root){var i=this.findNextItem(n);i&&i.children[0].focus()}else t.items&&this.expandSubmenu(t,n);e.preventDefault();break;case 37:this.root&&this.navigateToPrevItem(n),e.preventDefault()}this.$emit("keydown-item",{originalEvent:e,element:n})},onChildItemKeyDown(e){this.root?38===e.originalEvent.which&&null==e.element.previousElementSibling&&this.collapseMenu(e.element):37===e.originalEvent.which&&this.collapseMenu(e.element)},findNextItem(e){let n=e.nextElementSibling;return n?t.DomHandler.hasClass(n,"p-disabled")||!t.DomHandler.hasClass(n,"p-menuitem")?this.findNextItem(n):n:null},findPrevItem(e){let n=e.previousElementSibling;return n?t.DomHandler.hasClass(n,"p-disabled")||!t.DomHandler.hasClass(n,"p-menuitem")?this.findPrevItem(n):n:null},expandSubmenu(e,t){this.activeItem=e,setTimeout((()=>{t.children[1].children[0].children[0].focus()}),50)},collapseMenu(e){this.activeItem=null,e.parentElement.previousElementSibling.focus()},navigateToNextItem(e){var t=this.findNextItem(e);t&&t.children[0].focus()},navigateToPrevItem(e){var t=this.findPrevItem(e);t&&t.children[0].focus()},getItemClass(e){return["p-menuitem",e.class,{"p-menuitem-active":this.activeItem===e}]},linkClass(e,t){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.$el&&!this.$el.contains(e.target)&&(this.activeItem=null,this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))},unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)},getSubmenuIcon(){return["p-submenu-icon pi",{"pi-angle-right":!this.root,"pi-angle-down":this.root}]},visible:e=>"function"==typeof e.visible?e.visible():!1!==e.visible,disabled:e=>"function"==typeof e.disabled?e.disabled():e.disabled,label:e=>"function"==typeof e.label?e.label():e.label},computed:{containerClass(){return{"p-submenu-list":!this.root,"p-menubar-root-list":this.root}}},directives:{ripple:n}};const o=["role"],s=["onMouseenter"],a=["href","onClick","onKeydown"],r={class:"p-menuitem-text"},c=["href","target","aria-haspopup","aria-expanded","onClick","onKeydown","tabindex"],m={class:"p-menuitem-text"};l.render=function(e,t,n,l,u,d){const p=i.resolveComponent("router-link"),b=i.resolveComponent("MenubarSub",!0),h=i.resolveDirective("ripple");return i.openBlock(),i.createElementBlock("ul",{class:i.normalizeClass(d.containerClass),role:n.root?"menubar":"menu"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.model,((e,t)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:d.label(e)+t.toString()},[d.visible(e)&&!e.separator?(i.openBlock(),i.createElementBlock("li",{key:0,role:"none",class:i.normalizeClass(d.getItemClass(e)),style:i.normalizeStyle(e.style),onMouseenter:t=>d.onItemMouseEnter(t,e)},[n.template?(i.openBlock(),i.createBlock(i.resolveDynamicComponent(n.template),{key:1,item:e},null,8,["item"])):(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[e.to&&!d.disabled(e)?(i.openBlock(),i.createBlock(p,{key:0,to:e.to,custom:""},{default:i.withCtx((({navigate:t,href:n,isActive:l,isExactActive:o})=>[i.withDirectives((i.openBlock(),i.createElementBlock("a",{href:n,onClick:n=>d.onItemClick(n,e,t),class:i.normalizeClass(d.linkClass(e,{isActive:l,isExactActive:o})),onKeydown:t=>d.onItemKeyDown(t,e),role:"menuitem"},[i.createElementVNode("span",{class:i.normalizeClass(["p-menuitem-icon",e.icon])},null,2),i.createElementVNode("span",r,i.toDisplayString(d.label(e)),1)],42,a)),[[h]])])),_:2},1032,["to"])):i.withDirectives((i.openBlock(),i.createElementBlock("a",{key:1,href:e.url,class:i.normalizeClass(d.linkClass(e)),target:e.target,"aria-haspopup":null!=e.items,"aria-expanded":e===u.activeItem,onClick:t=>d.onItemClick(t,e),onKeydown:t=>d.onItemKeyDown(t,e),role:"menuitem",tabindex:d.disabled(e)?null:"0"},[i.createElementVNode("span",{class:i.normalizeClass(["p-menuitem-icon",e.icon])},null,2),i.createElementVNode("span",m,i.toDisplayString(d.label(e)),1),e.items?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(d.getSubmenuIcon())},null,2)):i.createCommentVNode("",!0)],42,c)),[[h]])],64)),d.visible(e)&&e.items?(i.openBlock(),i.createBlock(b,{model:e.items,key:d.label(e)+"_sub_",mobileActive:n.mobileActive,onLeafClick:d.onLeafClick,onKeydownItem:d.onChildItemKeyDown,parentActive:e===u.activeItem,template:n.template,exact:n.exact},null,8,["model","mobileActive","onLeafClick","onKeydownItem","parentActive","template","exact"])):i.createCommentVNode("",!0)],46,s)):i.createCommentVNode("",!0),d.visible(e)&&e.separator?(i.openBlock(),i.createElementBlock("li",{class:i.normalizeClass(["p-menu-separator",e.class]),style:i.normalizeStyle(e.style),key:"separator"+t.toString(),role:"separator"},null,6)):i.createCommentVNode("",!0)],64)))),128))],10,o)};var u={name:"Menubar",props:{model:{type:Array,default:null},exact:{type:Boolean,default:!0}},outsideClickListener:null,data:()=>({mobileActive:!1}),beforeUnmount(){this.mobileActive=!1,this.unbindOutsideClickListener(),this.$refs.rootmenu&&this.$refs.rootmenu.$el&&t.ZIndexUtils.clear(this.$refs.rootmenu.$el)},methods:{toggle(e){this.mobileActive?(this.mobileActive=!1,t.ZIndexUtils.clear(this.$refs.rootmenu.$el)):(this.mobileActive=!0,t.ZIndexUtils.set("menu",this.$refs.rootmenu.$el,this.$primevue.config.zIndex.menu)),this.bindOutsideClickListener(),e.preventDefault()},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{!this.mobileActive||this.$refs.rootmenu.$el===e.target||this.$refs.rootmenu.$el.contains(e.target)||this.$refs.menubutton===e.target||this.$refs.menubutton.contains(e.target)||(this.mobileActive=!1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},onLeafClick(){this.mobileActive=!1}},computed:{containerClass(){return["p-menubar p-component",{"p-menubar-mobile-active":this.mobileActive}]}},components:{MenubarSub:l}};const d={key:0,class:"p-menubar-start"},p=[i.createElementVNode("i",{class:"pi pi-bars"},null,-1)],b={key:1,class:"p-menubar-end"};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===n&&i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}("\n.p-menubar {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-menubar ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n}\n.p-menubar .p-menuitem-link {\n    cursor: pointer;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    text-decoration: none;\n    overflow: hidden;\n    position: relative;\n}\n.p-menubar .p-menuitem-text {\n    line-height: 1;\n}\n.p-menubar .p-menuitem {\n    position: relative;\n}\n.p-menubar-root-list {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-menubar-root-list > li ul {\n    display: none;\n    z-index: 1;\n}\n.p-menubar-root-list > .p-menuitem-active > .p-submenu-list {\n    display: block;\n}\n.p-menubar .p-submenu-list {\n    display: none;\n    position: absolute;\n    z-index: 1;\n}\n.p-menubar .p-submenu-list > .p-menuitem-active > .p-submenu-list  {\n    display: block;\n    left: 100%;\n    top: 0;\n}\n.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon {\n    margin-left: auto;\n}\n.p-menubar .p-menubar-custom,\n.p-menubar .p-menubar-end {\n    margin-left: auto;\n    -ms-flex-item-align: center;\n        align-self: center;\n}\n.p-menubar-button {\n    display: none;\n    cursor: pointer;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    text-decoration: none;\n}\n"),u.render=function(e,t,n,l,o,s){const a=i.resolveComponent("MenubarSub");return i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(s.containerClass)},[e.$slots.start?(i.openBlock(),i.createElementBlock("div",d,[i.renderSlot(e.$slots,"start")])):i.createCommentVNode("",!0),i.createElementVNode("a",{ref:"menubutton",tabindex:"0",class:"p-menubar-button",onClick:t[0]||(t[0]=e=>s.toggle(e))},p,512),i.createVNode(a,{ref:"rootmenu",model:n.model,root:!0,mobileActive:o.mobileActive,onLeafClick:s.onLeafClick,template:e.$slots.item,exact:n.exact},null,8,["model","mobileActive","onLeafClick","template","exact"]),e.$slots.end?(i.openBlock(),i.createElementBlock("div",b,[i.renderSlot(e.$slots,"end")])):i.createCommentVNode("",!0)],2)},module.exports=u;
